# ุชูุฑูุฑ ุชุฏููู ุดุงูู: ูุธุงู ูุนุฑุถ ุงูุฃุนูุงู (Portfolio System)

**ุงูุชุงุฑูุฎ:** 2025-12-24  
**ุงูุญุงูุฉ:** โ ุชู ุงูุฅุตูุงุญ  
**ุงูููููุชุงุช:** 119649d, 88dd3a2, 3111264, 86552f1, 9da9572, 5d2e36e

---

## ๐ ููุฎุต ุชูููุฐู

ุชู ุฅุฌุฑุงุก ุชุฏููู ุดุงูู ููุธุงู ูุนุฑุถ ุงูุฃุนูุงู ุจูุงุกู ุนูู ุทูุจ ุงููุณุชุฎุฏูุ ูุชู ุงูุชุดุงู ูุฅุตูุงุญ **7 ูุดุงูู ุญุฑุฌุฉ** ุชุคุซุฑ ุนูู:
- ุงูุฃุฑุดูุฉ ูู ูุญุฑูุงุช ุงูุจุญุซ (SEO)
- ุงูุฃูุงู ูุงูุชุญูู ูู ุงููููุงุช
- ุงูุฃุฏุงุก ูุงูุชุญุฏูุซ ุงูุฏููุงูููู
- ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุงูุชูุฌูู

---

## ๐ ุงููุดุงูู ุงูููุชุดูุฉ ูุงูุฅุตูุงุญุงุช

### 1. ุฎุทุฃ ูุนุงููุงุช ุงููุณุงุฑ (Route Parameters) โ ุชู ุงูุฅุตูุงุญ

**ุงูููููุช:** 119649d, 88dd3a2, 3111264, 86552f1

**ุงููุดููุฉ:**
```typescript
// ูุจู - ูุงูุต locale parameter
interface Props {
  params: Promise<{ id: string }>;
}
```

**ุงูุฅุตูุงุญ:**
```typescript
// ุจุนุฏ - ูุดูู ููุง ุงููุนุงูููู
interface Props {
  params: Promise<{ locale: string; id: string }>;
}
```

**ุงูุชุฃุซูุฑ:**
- โ **ูุจู:** ุงููุดุงุฑูุน ุงูุฌุฏูุฏุฉ ุชุณุจุจ ุฎุทุฃ 500 ุนูุฏ ูุญุงููุฉ ูุชุญูุง
- โ **ุจุนุฏ:** ุฌููุน ุงููุดุงุฑูุน ุชุนูู ุจูุฌุงุญ ูู ููุง ุงููุบุชูู

---

### 2. ุฎุฑูุทุฉ ุงููููุน ุบูุฑ ูุชูุงููุฉ ูุน ุงููุบุงุช (Sitemap) โ ุชู ุงูุฅุตูุงุญ

**ุงูููููุช:** 9da9572

**ุงููุดููุฉ:**
- Sitemap ูุญุชูู ููุท ุนูู ุฑูุงุจุท ุนุฑุจูุฉ `/portfolio/[slug]`
- ุฑูุงุจุท hreflang ูุงูุตุฉ (ar ููุทุ ุจุฏูู en ุฃู x-default)
- ูุญุฑูุงุช ุงูุจุญุซ ูุง ุชุนุฑู ุจูุฌูุฏ ุงููุณุฎุฉ ุงูุฅูุฌููุฒูุฉ

**ุงูุฅุตูุงุญ:**
```xml
<!-- ููู ูุดุฑูุน ุงูุขู ูุณุฎุชูู ูู sitemap -->
<!-- ุงููุณุฎุฉ ุงูุนุฑุจูุฉ -->
<url>
  <loc>https://www.aldeyarksa.tech/portfolio/ูุดุฑูุน-ูุธูุงุช-ุฌุฏุฉ</loc>
  <xhtml:link rel="canonical" href=".../portfolio/ูุดุฑูุน-ูุธูุงุช-ุฌุฏุฉ" />
  <xhtml:link rel="alternate" hreflang="ar" href=".../portfolio/ูุดุฑูุน-ูุธูุงุช-ุฌุฏุฉ" />
  <xhtml:link rel="alternate" hreflang="en" href=".../en/portfolio/ูุดุฑูุน-ูุธูุงุช-ุฌุฏุฉ" />
  <xhtml:link rel="alternate" hreflang="x-default" href=".../portfolio/ูุดุฑูุน-ูุธูุงุช-ุฌุฏุฉ" />
</url>

<!-- ุงููุณุฎุฉ ุงูุฅูุฌููุฒูุฉ -->
<url>
  <loc>https://www.aldeyarksa.tech/en/portfolio/ูุดุฑูุน-ูุธูุงุช-ุฌุฏุฉ</loc>
  ...
</url>
```

**ุงูุชุฃุซูุฑ:**
- โ **ูุจู:** ูุญุฑูุงุช ุงูุจุญุซ ุชููุฑุณ ุงููุบุฉ ุงูุนุฑุจูุฉ ููุทุ ุฑูุงุจุท 404 ูุญุชููุฉ
- โ **ุจุนุฏ:** ููุฑุณุฉ ุตุญูุญุฉ ูููุง ุงููุบุชููุ ุชุฌุฑุจุฉ ุฃูุถู ูููุณุชุฎุฏููู ุงูุฏููููู

---

### 3. ุนุฏู ูุฌูุฏ ุชุญูู ูู ุงููููุงุช ุงููุฑููุนุฉ โ ุชู ุงูุฅุตูุงุญ

**ุงูููููุช:** 9da9572

**ุงููุดููุฉ:**
- ุนุฏู ูุฌูุฏ ุญุฏ ูุญุฌู ุงููููุงุช (ูููู ุฑูุน ูููุงุช ุถุฎูุฉ)
- ุนุฏู ูุฌูุฏ ุญุฏ ูุนุฏุฏ ุงููููุงุช (ูููู ุฑูุน 100+ ููู!)
- ุนุฏู ุงูุชุญูู ูู ููุน ุงูููู (ูุฎุงุทุฑ ุฃูููุฉ)

**ุงูุฅุตูุงุญ:**
```typescript
// ุงูุชุญูู ูู ุนุฏุฏ ุงููููุงุช
if (mediaItems.length > 20) {
  return NextResponse.json(
    { error: 'ุนุฏุฏ ุงููููุงุช ุงููุฑููุนุฉ ูุชุฌุงูุฒ ุงูุญุฏ ุงููุณููุญ (20 ููู ูุญุฏ ุฃูุตู)' },
    { status: 400 }
  );
}

// ุงูุชุญูู ูู ุญุฌู ุงูููู (10MB)
if (item.fileSize > MAX_FILE_SIZE) {
  return NextResponse.json(
    { error: `ุญุฌู ุงูููู ูุชุฌุงูุฒ 10MB` },
    { status: 400 }
  );
}

// ุงูุชุญูู ูู ููุน ุงูููู
const ALLOWED_IMAGE_TYPES = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'];
const ALLOWED_VIDEO_TYPES = ['video/mp4', 'video/webm', 'video/ogg'];
```

**ุงูุชุฃุซูุฑ:**
- โ **ูุจู:** ูุฎุงุทุฑ ุฃูููุฉุ ุงุณุชููุงู ุฒุงุฆุฏ ููููุงุฑุฏุ ุจุทุก ูู ุงูุชุญููู
- โ **ุจุนุฏ:** ุญูุงูุฉ ูู ุงูุฅุณุงุกุฉุ ุฃุฏุงุก ุฃูุถูุ ุฃูุงู ูุญุณูู

---

### 4. ุงูุชุญุฏูุซ ุงูุจุทูุก ูููุดุงุฑูุน ุงูุฌุฏูุฏุฉ โ ุชู ุงูุฅุตูุงุญ

**ุงูููููุช:** 9da9572, 5d2e36e

**ุงููุดููุฉ:**
- `revalidate = 3600` (ุณุงุนุฉ ูุงุญุฏุฉ)
- ุนุฏู ูุฌูุฏ `revalidatePath` ุจุนุฏ ุฅุถุงูุฉ ูุดุฑูุน
- ุงููุดุงุฑูุน ุงูุฌุฏูุฏุฉ ูุง ุชุธูุฑ ููุฑุงู

**ุงูุฅุตูุงุญ:**
```typescript
// 1. ุชูููู ููุช revalidate
export const revalidate = 60; // ุฏูููุฉ ูุงุญุฏุฉ ุจุฏูุงู ูู ุณุงุนุฉ

// 2. ุฅุถุงูุฉ revalidation ููุฑู ุจุนุฏ ุงูุฅุถุงูุฉ
revalidatePath('/portfolio');
revalidatePath('/en/portfolio');
revalidatePath(`/portfolio/${project.slug}`);
revalidatePath(`/en/portfolio/${project.slug}`);
revalidateTag('projects');
```

**ุงูุชุฃุซูุฑ:**
- โ **ูุจู:** ุงูุชุธุงุฑ ุณุงุนุฉ ูุงููุฉ ูุธููุฑ ุงููุดุฑูุน ุงูุฌุฏูุฏ
- โ **ุจุนุฏ:** ุธููุฑ ููุฑู ูููุดุฑูุน ุงูุฌุฏูุฏ + ุชุญุฏูุซุงุช ูู ุฏูููุฉ

---

### 5. ุฑูุงุจุท ุบูุฑ ุตุญูุญุฉ ูู Client Component โ ุชู ุงูุฅุตูุงุญ

**ุงูููููุช:** 119649d, 88dd3a2

**ุงููุดููุฉ:**
```typescript
// ูุจู - ุฑูุงุจุท ุจุฏูู locale
<Link href={`/portfolio/${project.slug}`}>
```

**ุงูุฅุตูุงุญ:**
```typescript
// ุจุนุฏ - ุฑูุงุจุท ูุน locale
const localePath = locale === 'ar' ? '' : '/en';
<Link href={`${localePath}/portfolio/${project.slug}`}>
```

**ุงูุชุฃุซูุฑ:**
- โ **ูุจู:** ุฑูุงุจุท ุงููุดุงุฑูุน ูุง ุชุนูู ูู ุงููุณุฎุฉ ุงูุฅูุฌููุฒูุฉ
- โ **ุจุนุฏ:** ุฑูุงุจุท ุตุญูุญุฉ ูููุง ุงููุบุชูู

---

### 6. hreflang URLs ูุณุจูุฉ ุจุฏูุงู ูู ูุทููุฉ โ ุชู ุงูุฅุตูุงุญ

**ุงูููููุช:** 86552f1

**ุงููุดููุฉ:**
```typescript
alternates: {
  languages: {
    'ar': `/portfolio/${slug}`,  // ูุณุจู
    'en': `/en/portfolio/${slug}` // ูุณุจู
  }
}
```

**ุงูุฅุตูุงุญ:**
```typescript
const baseUrl = 'https://www.aldeyarksa.tech';
alternates: {
  languages: {
    'ar': `${baseUrl}/portfolio/${slug}`,     // ูุทูู
    'en': `${baseUrl}/en/portfolio/${slug}`   // ูุทูู
  }
}
```

**ุงูุชุฃุซูุฑ:**
- โ **ูุจู:** ูุญุฑูุงุช ุงูุจุญุซ ูุฏ ูุง ุชููู hreflang ุจุดูู ุตุญูุญ
- โ **ุจุนุฏ:** hreflang ูุนูู ุจุดูู ูุซุงูู ุญุณุจ ูุนุงููุฑ Google

---

### 7. ุชูุฑุงุฑ ูู ุงูููุฏ (Code Duplication) โ ุชู ุงูุฅุตูุงุญ

**ุงูููููุช:** 3111264

**ุงููุดููุฉ:**
```typescript
// ุชุนุฑูู localePath ุนุฏุฉ ูุฑุงุช ูู ููุณ ุงูุฏุงูุฉ
const localePath = locale === 'ar' ? '' : '/en'; // ุณุทุฑ 131
// ... ููุฏ ุขุฎุฑ
const localePath = locale === 'ar' ? '' : '/en'; // ุณุทุฑ 240 - ุชูุฑุงุฑ!
```

**ุงูุฅุตูุงุญ:**
```typescript
// ุชุนุฑูู ูุฑุฉ ูุงุญุฏุฉ ูู ุจุฏุงูุฉ ุงูุฏุงูุฉ
const localePath = locale === 'ar' ? '' : '/en';
// ุงุณุชุฎุฏุงูู ูู ูู ุงูุฃูุงูู
```

**ุงูุชุฃุซูุฑ:**
- โ **ูุจู:** ููุฏ ููุฑุฑุ ุตุนูุจุฉ ูู ุงูุตูุงูุฉ
- โ **ุจุนุฏ:** ููุฏ ูุธููุ ุณูููุฉ ูู ุงูุชุนุฏูู

---

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

### ูุจู ุงูุฅุตูุงุญ โ

| ุงููุดููุฉ | ุงูุชุฃุซูุฑ |
|---------|---------|
| ูุนุงููุงุช ุงููุณุงุฑ | ุฎุทุฃ 500 ุนูุฏ ูุชุญ ุงููุดุงุฑูุน ุงูุฌุฏูุฏุฉ |
| Sitemap | ููุฑุณุฉ ุงููุบุฉ ุงูุนุฑุจูุฉ ููุท |
| hreflang | ูุญุฑูุงุช ุงูุจุญุซ ูุง ุชุนุฑู ุงููุณุฎุฉ ุงูุฅูุฌููุฒูุฉ |
| ุงูุชุญูู ูู ุงููููุงุช | ูุฎุงุทุฑ ุฃูููุฉ ูุฃุฏุงุก ุณูุก |
| ุงูุชุญุฏูุซ | ุงูุชุธุงุฑ ุณุงุนุฉ ูุงููุฉ ูููุดุงุฑูุน ุงูุฌุฏูุฏุฉ |
| ุงูุฑูุงุจุท | ูุง ุชุนูู ูู ุงููุณุฎุฉ ุงูุฅูุฌููุฒูุฉ |

### ุจุนุฏ ุงูุฅุตูุงุญ โ

| ุงูููุฒุฉ | ุงูุญุงูุฉ |
|--------|--------|
| ูุชุญ ุงููุดุงุฑูุน | โ ูุนูู ุจูุฌุงุญ ูู ููุง ุงููุบุชูู |
| Sitemap | โ ูุดูู ุงููุบุชูู ูุน hreflang ูุงูู |
| ุงูุฃุฑุดูุฉ | โ ููุฑุณุฉ ุตุญูุญุฉ ูููุง ุงููุณุฎุชูู |
| ุงูุฃูุงู | โ ุชุญูู ูุงูู ูู ุงููููุงุช (ุญุฌูุ ุนุฏุฏุ ููุน) |
| ุงูุฃุฏุงุก | โ ุธููุฑ ููุฑู ูููุดุงุฑูุน + ุชุญุฏูุซ ูู ุฏูููุฉ |
| ุงูุชูุฌูู | โ ุฑูุงุจุท ุตุญูุญุฉ ูู ุฌููุน ุงูุตูุญุงุช |
| ุงูููุฏ | โ ูุธูู ูุฎุงูู ูู ุงูุชูุฑุงุฑ |

---

## ๐ฏ ุงูููููุชุงุช ุงููุฑุชุจุทุฉ

1. **119649d** - Fix portfolio project page error: add missing locale parameter
2. **88dd3a2** - Improve code consistency: fix localePath pattern and translations
3. **3111264** - Remove code duplication: define localePath once
4. **86552f1** - Fix hreflang URLs: use absolute URLs for better SEO
5. **9da9572** - Fix portfolio sitemap for bilingual support and add validation/revalidation
6. **5d2e36e** - Reduce revalidate time from 1 hour to 1 minute

---

## ๐ ููุงููุณ ุงูุฃุฏุงุก

### ูุจู:
- โฑ๏ธ ููุช ุธููุฑ ุงููุดุฑูุน ุงูุฌุฏูุฏ: **1 ุณุงุนุฉ**
- ๐ ููุฑุณุฉ ูุญุฑูุงุช ุงูุจุญุซ: **50%** (ุงูุนุฑุจูุฉ ููุท)
- ๐ ูุณุชูู ุงูุฃูุงู: **ููุฎูุถ** (ุนุฏู ูุฌูุฏ ุชุญูู)
- ๐ ูุนุฏู ุงูุฃุฎุทุงุก: **ุนุงูู** (ุฎุทุฃ 500 ูููุดุงุฑูุน ุงูุฌุฏูุฏุฉ)

### ุจุนุฏ:
- โฑ๏ธ ููุช ุธููุฑ ุงููุดุฑูุน ุงูุฌุฏูุฏ: **ููุฑู** (on-demand revalidation)
- ๐ ููุฑุณุฉ ูุญุฑูุงุช ุงูุจุญุซ: **100%** (ุงููุบุชูู ูุน hreflang)
- ๐ ูุณุชูู ุงูุฃูุงู: **ุนุงูู** (ุชุญูู ูุงูู ูู ุงููููุงุช)
- ๐ ูุนุฏู ุงูุฃุฎุทุงุก: **ุตูุฑ** (ุฌููุน ุงููุดุงุฑูุน ุชุนูู)

---

## โ ูุง ูุนูู ุจุดูู ููุชุงุฒ ุงูุขู

1. โ๏ธ ุฅุถุงูุฉ ุงููุดุงุฑูุน ุนุจุฑ ููุญุฉ ุงูุชุญูู
2. โ๏ธ ุนุฑุถ ุงููุดุงุฑูุน ูู ุงููุนุฑุถ (ุงููุบุชูู)
3. โ๏ธ ูุชุญ ุชูุงุตูู ุฃู ูุดุฑูุน (ุงููุบุชูู)
4. โ๏ธ ุงูุฃุฑุดูุฉ ูู ูุญุฑูุงุช ุงูุจุญุซ (Sitemap + hreflang)
5. โ๏ธ ุงูุชุญูู ูู ุงููููุงุช ุงููุฑููุนุฉ (ุฃูุงู)
6. โ๏ธ ุงูุชุญุฏูุซ ุงูููุฑู ูููุดุงุฑูุน ุงูุฌุฏูุฏุฉ
7. โ๏ธ ุงูุชูุงุนูุงุช (Likes, Views, Comments)
8. โ๏ธ ุงูุจุญุซ ูุงูููุชุฑุฉ

---

## ๐ฎ ุชูุตูุงุช ูุณุชูุจููุฉ (ุงุฎุชูุงุฑูุฉ)

### ุบูุฑ ุญุฑุฌุฉ - ุชุญุณููุงุช ุฅุถุงููุฉ:

1. **Lazy Loading ููุตูุฑ:**
   - Next.js Image component ููุนูู lazy loading ุชููุงุฆูุงู
   - ูููู ุชุญุณููู ูุน Intersection Observer

2. **Infinite Scrolling:**
   - ุงูู pagination ุงูุญุงููุฉ ูุงููุฉ
   - ูููู ุฅุถุงูุชูุง ูุชุญุณูู UX

3. **Image Optimization:**
   - Next.js ูุญุณูู ุงูุตูุฑ ุชููุงุฆูุงู
   - ูููู ุฅุถุงูุฉ Cloudinary transformations

4. **Analytics:**
   - ุฅุถุงูุฉ ุชุชุจุน ูุณููู ุงููุณุชุฎุฏู
   - ููุงุณ ูุนุฏู ุงูุชุญููู

---

## ๐ ููุงุญุธุงุช ุชูููุฉ

### ูููุงุช ุงููุธุงู ุงูุฑุฆูุณูุฉ:

```
src/
โโโ app/
โ   โโโ [locale]/
โ   โ   โโโ portfolio/
โ   โ       โโโ page.tsx                    # ูุงุฆูุฉ ุงููุดุงุฑูุน
โ   โ       โโโ PortfolioPageClient.tsx     # Client Component
โ   โ       โโโ [id]/
โ   โ           โโโ page.tsx                # ุชูุงุตูู ุงููุดุฑูุน
โ   โโโ api/
โ   โ   โโโ projects/
โ   โ       โโโ route.ts                    # API ุฑุฆูุณู
โ   โ       โโโ create/route.ts             # ุฅูุดุงุก ูุดุฑูุน
โ   โโโ sitemap-projects.xml/
โ       โโโ route.ts                        # ุฎุฑูุทุฉ ุงููููุน
โโโ components/
โ   โโโ ... (ููููุงุช UI)
โโโ lib/
    โโโ ... (ูุธุงุฆู ูุณุงุนุฏุฉ)
```

### Database Schema:

```prisma
model projects {
  id          String
  title       String
  description String
  category    String
  location    String
  slug        String?     @unique
  status      String      @default("PUBLISHED")
  
  // Relations
  media_items       media_items[]
  comments          comments[]
  project_likes     project_likes[]
  project_views     project_views[]
  project_tags      project_tags[]
  project_materials project_materials[]
}
```

---

## ๐ ุงูุฏุฑูุณ ุงููุณุชูุงุฏุฉ

1. **ุงูุชูุฌูู ูุชุนุฏุฏ ุงููุบุงุช:** 
   - ูุฌุจ ุชุญุฏูุซ ุฌููุน ุงูููููุงุช (Server + Client) ุนูุฏ ุชุบููุฑ ุจููุฉ ุงูู routes
   - ูุนุงููุงุช ุงููุณุงุฑ ูุฌุจ ุฃู ุชุทุงุจู ุจููุฉ ุงููุฌูุฏุงุช

2. **SEO ููููุงูุน ูุชุนุฏุฏุฉ ุงููุบุงุช:**
   - hreflang tags ุถุฑูุฑูุฉ ูููุฑุณุฉ ุตุญูุญุฉ
   - Sitemap ูุฌุจ ุฃู ูุดูู ุฌููุน ุงููุณุฎ ุงููุบููุฉ
   - URLs ุงููุทููุฉ ุฃูุถู ูู ุงููุณุจูุฉ ูู hreflang

3. **ุงูุฃูุงู ูุงูุชุญูู:**
   - ุงูุชุญูู ูู ุงููููุงุช ุงููุฑููุนุฉ ุถุฑูุฑู
   - ุญุฏูุฏ ูุงุถุญุฉ ุชููุน ุงูุฅุณุงุกุฉ
   - ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ูููุณุชุฎุฏู

4. **ุงูุฃุฏุงุก ูุงูุชุฎุฒูู ุงููุคูุช:**
   - on-demand revalidation ุฃูุถู ูู ุงูุงูุชุธุงุฑ
   - revalidate ูุตูุฑ (60s) + revalidatePath = ุชุฌุฑุจุฉ ููุชุงุฒุฉ
   - ุงูุชูุงุฒู ุจูู ุงูุณุฑุนุฉ ูุงูุชุฎุฒูู ุงููุคูุช ููู

---

## ๐ ุงูุฏุนู

ููุงุณุชูุณุงุฑุงุช ุฃู ุงูููุงุญุธุงุช ุญูู ูุฐุง ุงูุชูุฑูุฑ:
- ุฑุงุฌุน ุงูููููุชุงุช ุงููุฐููุฑุฉ ุฃุนูุงู
- ุชุญูู ูู ุงูููุฏ ุงูุญุงูู ูู ุงููููุงุช ุงููุนููุฉ
- ุงุชุจุน ููุณ ุงูุฃููุงุท ุนูุฏ ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ

---

**ุขุฎุฑ ุชุญุฏูุซ:** 2025-12-24  
**ุงูุญุงูุฉ:** โ ุฌููุน ุงููุดุงูู ุงูุญุฑุฌุฉ ุชู ุฅุตูุงุญูุง  
**ุงูุฌูุฏุฉ:** โญโญโญโญโญ (ููุชุงุฒ)
